var PrepareTabs=new Class({Implements:[Options,Events],options:{blockWidth:600},tabbedPanels:null,initialize:function(b,d,c,a){this.setOptions(a);this.tabbedPanels=$(b);d=$$(d);c=$$(c);this.createTabsList(c);this.createSlider(d)},createTabsList:function(b){this.tabsUL=new Element("ul",{"class":"TabItemsGroup"});var c=0;$$(b).each(function(e){var d=new Element("li",{"class":"Tab",tabindex:++c});d.set("html",e.get("html"));e.empty();d.inject(this.tabsUL)},this);var a=new Element("br",{"class":"clearfloat"});a.inject(this.tabsUL);this.tabsUL.inject(this.tabbedPanels,"before")},createSlider:function(a){var b=0;$$(a).each(function(c){b++;c.setStyles({"float":"left",width:this.options.blockWidth});blockWrp=new Element("div",{"class":"blockWrp"});blockWrp.set("html",c.get("html"));c.empty();blockWrp.inject(c)},this);this.sliderWidth=(this.options.blockWidth)*b;sliderWrp=new Element("div",{"class":"sliderWrp"});sliderWrp.set("html",a.getParent("div").get("html"));a.getParent("div").set("html","");sliderWrp.inject(this.tabbedPanels.getElement("div.TabModulesGroup"));sliderWrp.setStyles({width:this.sliderWidth,position:"relative",left:0});sliderWrp.getParent("div.TabModulesGroup").adopt(new Element("br",{"class":"clearfloat"}));sliderWrp.getParent("div.TabModulesGroup").setStyles({width:this.options.blockWidth,overflow:"hidden",position:"relative"});this.fireEvent("onDone")}});var Tabs=new Class({Implements:[Options,Events],Extends:PrepareTabs,options:{selectedTabCssClass:"selected",selectedSectionCssClass:"selected",firstShow:0,fxTransition:Fx.Transitions.Cubic.easeIn,duration:400},tabs:[],initialize:function(c,b,a){this.setOptions(a);c=$$(c);$$(b).each(function(e,d){this.addSection(e,c[d])},this);this.show(this.options.firstShow)},addSection:function(b,a){this.tabs.include(b);b.store("container",a);this.attach(b)},attach:function(a){a.addEvent("click",function(b){b.preventDefault();this.show(this.tabs.indexOf(a))}.bind(this));a.addEvent("mouseenter",function(b){this.addClass("TabHover")});a.addEvent("mouseleave",function(b){this.removeClass("TabHover")})},show:function(a){if(this.current===a){return}this.tabs.each(function(d,c){var b=d.retrieve("container");if(a===c){d.addClass(this.options.selectedTabCssClass);b.addClass(this.options.selectedSectionCssClass);b.getParent("div.sliderWrp").set("tween",{duration:this.options.duration,transition:this.options.fxTransition});b.getParent("div.sliderWrp").tween("left",-this.options.blockWidth*c);this.fireEvent("onShow",[c,d,b])}else{d.removeClass(this.options.selectedTabCssClass);b.removeClass(this.options.selectedSectionCssClass);if(this.current===c||!$chk(this.current)){this.fireEvent("onHide",[c,d,b])}}},this);this.current=a}});var AjaxTabs=new Class({Extends:Tabs,options:{cache:true,urls:[]},show:function(b,d){var c=this.tabs[b];var a=this.options.urls[b]||c.get("href");if(!a||d||(this.options.cache&&c.retrieve("loaded"))){this.parent(b)}else{this.fetchTabContent(b,a)}},fetchTabContent:function(c,b){var d=this.tabs[c];var a=d.retrieve("container");var e=d.retrieve("tabAjax");if(!e){e=new Request.HTML({update:a,url:b,onSuccess:function(){this.show(c,true);d.store("loaded")}.bind(this)});d.store("tabAjax",e)}e.send()}});var Ie6HoverFix=new Class({ie6HoverFix:function(a){a.addEvents({mouseenter:function(){this.toggleClass("hover")},mouseleave:function(){this.toggleClass("hover")}})}});var TmDropDown=new Class({Implements:Options,options:{durationUp:100,durationDown:550,transitionUp:Fx.Transitions.Sine.easeOut,transitionDown:Fx.Transitions.Pow.easeInOut,offsetSubMenu:185,width:202},topPaneOpen:false,openSubMenu:function(){},i:0,initialize:function(b,a){this.menu=b;this.setOptions(a);this.ie6=(Browser.Engine.trident&&Browser.Engine.version<=4);this.ie6Fix=new Ie6HoverFix();window.addEvent("domready",this.domReady.bind(this))},domReady:function(){$$(this.menu+" .menu-nav li").each(function(a){this.ie6Fix.ie6HoverFix(a);var c=a.getFirst(".ulwrapper");if(c){c.setStyles({left:0,top:0,position:"absolute"});var d=new Fx.Slide(c,{duration:this.options.durationDown,transition:this.options.transitionDown,onComplete:function(){this.topPaneOpen=true;this.openSubMenu.run(null,this)}.bind(this)}).hide();var b=new Fx.Slide(c,{duration:this.options.durationUp,transition:this.options.transitionUp}).hide();a.getFirst("div").setStyles({width:this.options.width});if(a.get("class").contains("parent")&&!a.get("class").contains("top")){a.getFirst("div").setStyles({left:this.options.offsetSubMenu,top:0})}a.addEvents({mouseenter:function(){a.getParent("div").getParent("div").setStyles({overflow:"visible"});if(a.get("class").contains("top")){b.cancel();d.slideIn()}this.openSubMenu=function(e){if(a.get("class").contains("parent")&&a.get("class").contains("hover")){if(this.topPaneOpen){a.getParent("div").getParent("div").setStyles({overflow:"visible"});d.slideIn()}}};if(a.get("class").contains("parent")&&!a.get("class").contains("top")){if(this.topPaneOpen){b.cancel();d.slideIn()}else{a.getParent("div").getParent("div").setStyles({overflow:"hidden"})}}}.bind(this),mouseleave:function(){a.getFirst("div").setStyles({overflow:"hidden"});d.cancel();if(a.get("class").contains("parent")&&!a.get("class").contains("top")){b.hide()}if(a.get("class").contains("top")){b.addEvent("start",function(){this.topPaneOpen=false}.bind(this));b.slideOut()}}.bind(this)})}},this)}});function setColor(a){switch(a){case"1":$("body").removeProperty("class");$("body").addClass("body");var b=Cookie.write("color_scheme",1);break;case"2":$("body").removeProperty("class");$("body").addClass("body2");var b=Cookie.write("color_scheme",2);break;case"3":$("body").removeProperty("class");$("body").addClass("body3");var b=Cookie.write("color_scheme",3);break;default:$("body").removeProperty("class");$("body").addClass("body");break}};